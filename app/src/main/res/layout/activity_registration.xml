<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/gray_50"
    android:orientation="vertical">

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="24dp">

            <!-- Header Section -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:layout_marginBottom="12dp">
                
                <ImageView
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_person" 
                    app:tint="@color/blue_900"/>
                    
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="CLIENT REGISTRATION"
                    android:textColor="@color/blue_900"
                    android:textStyle="bold"
                    android:textSize="14sp"
                    android:layout_marginStart="8dp"/>
            </LinearLayout>

            <TextView
                android:id="@+id/mainTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Create your Borrower Account"
                android:textColor="@color/blue_900"
                android:textSize="28sp"
                android:textStyle="bold"
                android:layout_marginBottom="8dp"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Complete all steps to register. All fields marked with * are required."
                android:textColor="@color/gray_300"
                android:textSize="14sp"
                android:layout_marginBottom="24dp"/>

            <!-- Step Indicator -->
            <TextView
                android:id="@+id/stepIndicator"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Step 1 of 3: Personal Info"
                android:textColor="@color/blue_900"
                android:textSize="14sp"
                android:textStyle="bold" />
                
            <ProgressBar
                android:id="@+id/stepProgressBar"
                style="?android:attr/progressBarStyleHorizontal"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:layout_marginBottom="24dp"
                android:progress="33"
                android:progressTint="@color/yellow_400"/>

            <!-- STEP 1: Personal Information Form -->
            <LinearLayout
                android:id="@+id/step1Layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="visible">
                
                <!-- Account Credentials Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingBottom="16dp"
                    android:paddingTop="8dp"
                    android:background="@drawable/bg_border_bottom">
                    
                    <androidx.cardview.widget.CardView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        app:cardCornerRadius="20dp"
                        app:cardBackgroundColor="@color/blue_900"
                        app:cardElevation="0dp">
                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:src="@drawable/ic_lock"
                            app:tint="@color/yellow_400"
                            android:layout_gravity="center"/>
                    </androidx.cardview.widget.CardView>
                    
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Account Credentials"
                        android:textColor="@color/blue_900"
                        android:textStyle="bold"
                        android:textSize="18sp"
                        android:layout_marginStart="16dp"/>
                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Username *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/usernameEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Choose username"
                        android:inputType="text" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Email Address *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/regEmailEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="your.email@example.com"
                        android:inputType="textEmailAddress" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Password *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:endIconMode="password_toggle"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/regPasswordEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Strong password"
                        android:inputType="textPassword" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Confirm Password *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:endIconMode="password_toggle"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/confirmPasswordEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Re-enter password"
                        android:inputType="textPassword" />
                </com.google.android.material.textfield.TextInputLayout>
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:background="@drawable/bg_info_box"
                    android:padding="12dp"
                    android:orientation="vertical">
                    
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Password Requirements:"
                        android:textStyle="bold"
                        android:textColor="@color/blue_900"
                        android:textSize="12sp"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="• At least 8 characters\n• One uppercase letter\n• One number\n• One special character"
                        android:textColor="@color/blue_900"
                        android:textSize="12sp"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

                <!-- Personal Information Header -->
                 <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingBottom="16dp"
                    android:layout_marginTop="32dp"
                    android:paddingTop="8dp"
                    android:background="@drawable/bg_border_bottom">
                    
                    <androidx.cardview.widget.CardView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        app:cardCornerRadius="20dp"
                        app:cardBackgroundColor="@color/blue_900"
                        app:cardElevation="0dp">
                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:src="@drawable/ic_person"
                            app:tint="@color/yellow_400"
                            android:layout_gravity="center"/>
                    </androidx.cardview.widget.CardView>
                    
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Personal Information"
                        android:textColor="@color/blue_900"
                        android:textStyle="bold"
                        android:textSize="18sp"
                        android:layout_marginStart="16dp"/>
                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="First Name *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/firstNameEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Juan"
                        android:inputType="textPersonName" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Last Name *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/lastNameEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Dela Cruz"
                        android:inputType="textPersonName" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Date of Birth *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/dobEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:focusable="false"
                        android:clickable="true"
                        android:inputType="none" /> 
                </com.google.android.material.textfield.TextInputLayout>
                <TextView
                    android:id="@+id/ageValidationText"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="You must be at least 18 years old"
                    android:textSize="12sp"
                    android:layout_marginStart="4dp"
                    android:textColor="@color/gray_300"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Nationality *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <AutoCompleteTextView
                        android:id="@+id/nationalityDropdown"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="none"
                        android:text="Select Country"
                        app:simpleItems="@array/nationalities" />
                </com.google.android.material.textfield.TextInputLayout>

                <!-- Contact Details Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingBottom="16dp"
                    android:layout_marginTop="32dp"
                    android:paddingTop="8dp"
                    android:background="@drawable/bg_border_bottom">
                    
                    <androidx.cardview.widget.CardView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        app:cardCornerRadius="20dp"
                        app:cardBackgroundColor="@color/blue_900"
                        app:cardElevation="0dp">
                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:src="@drawable/ic_email"
                            app:tint="@color/yellow_400"
                            android:layout_gravity="center"/>
                    </androidx.cardview.widget.CardView>
                    
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Contact Details"
                        android:textColor="@color/blue_900"
                        android:textStyle="bold"
                        android:textSize="18sp"
                        android:layout_marginStart="16dp"/>
                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Mobile Number *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/mobileEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="09000000000"
                        android:inputType="phone"
                        android:maxLength="11"/>
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Alternative Contact"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/altMobileEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="09000000000"
                        android:inputType="phone"
                        android:maxLength="11"/>
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Residential Address *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/addressEditText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Complete address"
                        android:inputType="textPostalAddress"
                        android:lines="3"
                        android:gravity="top"/>
                </com.google.android.material.textfield.TextInputLayout>
                
                <!-- Employment Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingBottom="16dp"
                    android:layout_marginTop="32dp"
                    android:paddingTop="8dp"
                    android:background="@drawable/bg_border_bottom">
                    
                    <androidx.cardview.widget.CardView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        app:cardCornerRadius="20dp"
                        app:cardBackgroundColor="@color/blue_900"
                        app:cardElevation="0dp">
                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:src="@drawable/ic_account_balance"
                            app:tint="@color/yellow_400"
                            android:layout_gravity="center"/>
                    </androidx.cardview.widget.CardView>
                    
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Employment &amp; Financials"
                        android:textColor="@color/blue_900"
                        android:textStyle="bold"
                        android:textSize="18sp"
                        android:layout_marginStart="16dp"/>
                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Employment Status *"
                    android:layout_marginTop="16dp"
                    android:textStyle="bold"
                    android:textColor="@color/gray_300"
                    android:textSize="14sp"/>

                <com.google.android.material.textfield.TextInputLayout
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">

                    <AutoCompleteTextView
                        android:id="@+id/employmentStatusDropdown"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="none"
                        android:text="Select Status"
                        app:simpleItems="@array/employment_status" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:id="@+id/employerLayout"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    app:boxBackgroundColor="@color/gray_50"
                    app:hintEnabled="false">
                    
                    <!-- We need a label for this dynamic field too if it appears, but hard to embed inside TIL without custom view structure. 
                         For simplicity, I'll rely on the HINT here since it's dynamic. 
                         Wait, user wants EXACT. I should put the TextView outside. -->
                </com.google.android.material.textfield.TextInputLayout>
                
                <!-- Dynamic Fields Container (Manually managed in code, but let's define structure) -->
                <LinearLayout
                     android:id="@+id/dynamicEmploymentFields"
                     android:tag="dynamicFields"
                     android:layout_width="match_parent"
                     android:layout_height="wrap_content"
                     android:orientation="vertical"
                     android:visibility="gone">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Employer / Business Name *"
                        android:layout_marginTop="16dp"
                        android:textStyle="bold"
                        android:textColor="@color/gray_300"
                        android:textSize="14sp"/>
                    
                    <com.google.android.material.textfield.TextInputLayout
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        app:boxBackgroundColor="@color/gray_50"
                        app:hintEnabled="false">
                         <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/employerEditText"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:hint="Company Name"
                            android:inputType="text" />
                    </com.google.android.material.textfield.TextInputLayout>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Monthly Net Income *"
                        android:layout_marginTop="16dp"
                        android:textStyle="bold"
                        android:textColor="@color/gray_300"
                        android:textSize="14sp"/>

                    <com.google.android.material.textfield.TextInputLayout
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        app:boxBackgroundColor="@color/gray_50"
                        app:hintEnabled="false">
                         <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/incomeEditText"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:hint="15000.00"
                            android:inputType="numberDecimal" />
                    </com.google.android.material.textfield.TextInputLayout>
                     <TextView
                        android:id="@+id/incomeValidationText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Minimum income required: ₱15,000.00"
                        android:textSize="12sp"
                        android:layout_marginStart="4dp"
                        android:textColor="@color/gray_300"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Years at Current Job *"
                        android:layout_marginTop="16dp"
                        android:textStyle="bold"
                        android:textColor="@color/gray_300"
                        android:textSize="14sp"/>
                        
                    <com.google.android.material.textfield.TextInputLayout
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        app:boxBackgroundColor="@color/gray_50"
                        app:hintEnabled="false">
                         <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/yearsEmployedEditText"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:hint="2"
                            android:inputType="numberDecimal" />
                    </com.google.android.material.textfield.TextInputLayout>
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/termsContainer"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="24dp"
                    android:clickable="true"
                    android:focusable="true"
                    android:foreground="?android:attr/selectableItemBackground">

                    <CheckBox
                        android:id="@+id/termsCheckbox"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text=""
                        android:checked="false"
                        android:clickable="false"
                        android:focusable="false" />

                    <TextView
                        android:id="@+id/termsTextView"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="I agree to the Terms of Service and Privacy Policy."
                        android:textColor="@color/black"
                        android:clickable="false"
                        android:focusable="false"/>
                </LinearLayout>

            </LinearLayout>


            <!-- STEP 2: Documents -->
            <LinearLayout
                android:id="@+id/step2Layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingVertical="16dp">
                    
                    <ImageView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        android:src="@drawable/ic_description"
                        app:tint="@color/blue_900"
                        android:background="@drawable/bg_info_box"
                        android:backgroundTint="#DBEAFE"
                        android:padding="8dp"/>
                        
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Document Submission"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:textColor="@color/blue_900"
                        android:layout_marginStart="12dp"/>
                </LinearLayout>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="@color/gray_200"
                    android:layout_marginBottom="24dp"/>
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@drawable/bg_info_box"
                    android:backgroundTint="#EFF6FF"
                    android:padding="20dp"
                    android:orientation="vertical">
                    
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="12dp">
                        
                         <ImageView
                            android:layout_width="20dp"
                            android:layout_height="20dp"
                            android:src="@drawable/ic_info"
                            app:tint="@color/blue_900"/>
                            
                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Document Upload Information"
                            android:textStyle="bold"
                            android:textColor="@color/blue_900"
                            android:textSize="16sp"
                            android:layout_marginStart="8dp"/>
                    </LinearLayout>

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="After registration, you'll be able to upload the following required documents from your dashboard:"
                        android:textColor="@color/gray_300"
                         android:textSize="14sp"
                        android:layout_marginBottom="16dp"/>
                        
                    <!-- Checklist Items -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Valid Government-Issued ID"
                        android:drawableStart="@drawable/ic_check"
                        android:drawableTint="@color/blue_900"
                        android:drawablePadding="8dp"
                        android:gravity="center_vertical"
                        android:textColor="@color/blue_900"
                        android:layout_marginBottom="8dp"/>
                        
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Proof of Address (utility bill, bank statement)"
                        android:drawableStart="@drawable/ic_check"
                        android:drawableTint="@color/blue_900"
                        android:drawablePadding="8dp"
                        android:gravity="center_vertical"
                        android:textColor="@color/blue_900"
                        android:layout_marginBottom="8dp"/>
                        
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Latest Payslip or Income Proof"
                        android:drawableStart="@drawable/ic_check"
                        android:drawableTint="@color/blue_900"
                        android:drawablePadding="8dp"
                        android:gravity="center_vertical"
                        android:textColor="@color/blue_900"
                        android:layout_marginBottom="16dp"/>
                        
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="You can complete your profile and upload documents after creating your account."
                        android:textStyle="italic"
                        android:textColor="@color/gray_300"
                        android:textSize="13sp"/>
                </LinearLayout>
                
                <CheckBox
                    android:id="@+id/documentAcknowledgeBox"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="24dp"
                    android:text="I understand that I will need to upload the required documents to complete my loan application."
                    android:textColor="@color/black" 
                    android:buttonTint="@color/blue_900"/>
            </LinearLayout>

            <!-- STEP 3: Review -->
            <LinearLayout
                android:id="@+id/step3Layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <!-- Header -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingVertical="16dp">
                    
                    <ImageView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        android:src="@drawable/ic_description"
                        app:tint="@color/blue_900"
                        android:background="@drawable/bg_info_box"
                        android:backgroundTint="#FBBF24"
                        android:padding="8dp"/>
                        
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Review Your Information"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:textColor="@color/blue_900"
                        android:layout_marginStart="12dp"/>
                </LinearLayout>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="@color/gray_200"
                    android:layout_marginBottom="16dp"/>

                <!-- Personal Info Card -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardCornerRadius="12dp"
                    app:strokeWidth="1dp"
                    app:strokeColor="@color/gray_300"
                    app:cardElevation="0dp"
                    android:layout_marginBottom="16dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="20dp">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:gravity="center_vertical"
                            android:layout_marginBottom="16dp">
                            <ImageView
                                android:layout_width="24dp"
                                android:layout_height="24dp"
                                android:src="@drawable/ic_person"
                                app:tint="@color/blue_900"/>
                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Personal Information"
                                android:textStyle="bold"
                                android:textColor="@color/blue_900"
                                android:textSize="16sp"
                                android:layout_marginStart="8dp"/>
                        </LinearLayout>

                        <!-- Row 1: Name -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:baselineAligned="false"
                            android:layout_marginBottom="12dp">
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="First Name:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewFirstName"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Harry"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Last Name:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewLastName"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Bry"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                        </LinearLayout>

                        <!-- Row 2: DOB & Nationality -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:baselineAligned="false">
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Date of Birth:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewDob"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="2005-10-18\n(20 years old)"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Nationality:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewNationality"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Philippines"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                        </LinearLayout>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>

                <!-- Contact Details Card -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardCornerRadius="12dp"
                    app:strokeWidth="1dp"
                    app:strokeColor="@color/gray_300"
                    app:cardElevation="0dp"
                     android:layout_marginBottom="16dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="20dp">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:gravity="center_vertical"
                            android:layout_marginBottom="16dp">
                            <ImageView
                                android:layout_width="24dp"
                                android:layout_height="24dp"
                                android:src="@drawable/ic_contact_mail"
                                app:tint="@color/blue_900"/>
                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Contact Details"
                                android:textStyle="bold"
                                android:textColor="@color/blue_900"
                                android:textSize="16sp"
                                android:layout_marginStart="8dp"/>
                        </LinearLayout>

                        <!-- Row 1: Email & Mobile -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:baselineAligned="false"
                            android:layout_marginBottom="12dp">
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Email:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewEmail"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="harry@example.com"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Mobile:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewMobile"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="09123456789"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                        </LinearLayout>

                         <!-- Row 2: Address -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="vertical">
                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Address:"
                                android:textColor="@color/gray_300"
                                android:textSize="12sp"/>
                            <TextView
                                android:id="@+id/reviewAddress"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="123 Street"
                                android:textStyle="bold"
                                android:textColor="@color/black"
                                android:textSize="14sp"/>
                        </LinearLayout>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>
                
                <!-- Employment & Financials Card (NEW) -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardCornerRadius="12dp"
                    app:strokeWidth="1dp"
                    app:strokeColor="@color/gray_300"
                    app:cardElevation="0dp"
                    android:layout_marginBottom="24dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="20dp">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:gravity="center_vertical"
                            android:layout_marginBottom="16dp">
                            <ImageView
                                android:layout_width="24dp"
                                android:layout_height="24dp"
                                android:src="@drawable/ic_account_balance"
                                app:tint="@color/blue_900"/>
                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Employment &amp; Financials"
                                android:textStyle="bold"
                                android:textColor="@color/blue_900"
                                android:textSize="16sp"
                                android:layout_marginStart="8dp"/>
                        </LinearLayout>

                        <!-- Row 1: Status & Employer -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:baselineAligned="false"
                            android:layout_marginBottom="12dp">
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Employment Status:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewEmploymentStatus"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Employed"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Employer:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewEmployer"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Acme Corp"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                        </LinearLayout>

                         <!-- Row 2: Income & Years -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:baselineAligned="false">
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Monthly Income:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewIncome"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="₱25,000.00"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Years Employed:"
                                    android:textColor="@color/gray_300"
                                    android:textSize="12sp"/>
                                <TextView
                                    android:id="@+id/reviewYears"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="3.5 years"
                                    android:textStyle="bold"
                                    android:textColor="@color/black"
                                    android:textSize="14sp"/>
                            </LinearLayout>
                        </LinearLayout>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>


                <!-- Checkboxes Container (Updated) -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:background="@drawable/bg_warning"
                    android:backgroundTint="#FFFBEB"
                    android:padding="20dp"
                    android:paddingTop="24dp">
                     <!-- Using tint FFFBEB for very light yellow to match screenshot's pale bg -->
                     <!-- Actually screenshot has a strong yellow header? No, it's a border or full fill. 
                          The screenshot 1769877471632.png shows a FULLY YELLOW box (orange-ish yellow). 
                          Wait, let me re-check image 1 (Step 3).
                          The box is SOLID YELLOW (approx #FBBF24). -->
                    
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="12dp">
                         <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:src="@drawable/ic_verified"
                            app:tint="@color/blue_900"/>
                        <TextView
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:text="Ready to Submit?"
                             android:textStyle="bold"
                             android:textSize="16sp"
                             android:textColor="@color/blue_900"
                             android:layout_marginStart="8dp"/>
                    </LinearLayout>
                    
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="By submitting, you confirm that all information is accurate and complete."
                        android:textColor="@color/blue_900"
                        android:layout_marginBottom="16dp"/>

                    <CheckBox
                        android:id="@+id/finalConfirmBox"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="I confirm that all information provided is true and accurate."
                        android:textColor="@color/black" 
                        android:buttonTint="@color/blue_900"/>
                        
                    <!-- Screenshot doesn't show the second checkbox inside the yellow box in the web version, 
                         BUT the android preview on the right shows TWO checkboxes.
                         "I confirm..." and "I agree to be contacted..."
                         I will keep both to match the Android preview which is likely the target. -->
                    <CheckBox
                        android:id="@+id/contactConsentBox"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                         android:layout_marginTop="8dp"
                        android:text="I agree to be contacted regarding my application."
                        android:textColor="@color/black" 
                        android:buttonTint="@color/blue_900"/>
                </LinearLayout>

            </LinearLayout>

            <!-- Navigation Buttons -->
            <LinearLayout
                android:id="@+id/navigationButtons"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="32dp"
                android:orientation="horizontal"
                android:weightSum="2">

                <Button
                    android:id="@+id/backButton"
                    style="@style/Widget.MaterialComponents.Button.OutlinedButton"
                    android:layout_width="0dp"
                    android:layout_height="60dp"
                    android:layout_weight="1"
                    android:layout_marginEnd="8dp"
                    android:text="Back"
                    android:textColor="@color/blue_900"
                    app:strokeColor="@color/blue_900"
                    android:visibility="gone" />

                <Button
                    android:id="@+id/nextButton"
                    android:layout_width="0dp"
                    android:layout_height="60dp"
                    android:layout_weight="1"
                    android:layout_marginStart="8dp"
                    android:backgroundTint="@color/blue_900"
                    android:text="Continue"
                    android:textColor="@color/white" 
                    android:textStyle="bold"/>
            </LinearLayout>

        </LinearLayout>
    </ScrollView>
</LinearLayout>
